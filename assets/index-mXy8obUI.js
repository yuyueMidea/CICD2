const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-hsZdq-T3.js","assets/vendor-D0inrJyg.js","assets/LoginPage-C_8RlFwA.js","assets/LoginPage-CaLd4svl.css","assets/About-Dw6PqBAy.js","assets/CryptoPage-KVR6EA0M.js","assets/Contract-DpncEpYC.js","assets/Contract-BYxZpQ7z.css","assets/CalculationView-D_72OrTB.js","assets/WebSocketPage-QfwokK1f.js","assets/WebSocketPage-CvMpOmu9.css","assets/NotFound-BbRWN8TZ.js"])))=>i.map(i=>d[i]);
import{c as P,r as E,o as c,d as J,a as d,b as u,e as A,t as L,u as g,F as R,f as $,g as b,w as C,h as T,K as j,i as B,j as q,k as K,l as S,m as M,n as U}from"./vendor-D0inrJyg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const k=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s},W={};function G(e,t){const s=E("router-view");return c(),P(s)}const H=k(W,[["render",G]]),z="modulepreload",Q=function(e){return"/autoDeploy/"+e},I={},h=function(t,s,r){let o=Promise.resolve();if(s&&s.length>0){let l=function(a){return Promise.all(a.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),y=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=l(s.map(a=>{if(a=Q(a),a in I)return;I[a]=!0;const m=a.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const p=document.createElement("link");if(p.rel=m?"stylesheet":z,m||(p.as="script"),p.crossOrigin="",p.href=a,y&&p.setAttribute("nonce",y),document.head.appendChild(p),m)return new Promise((F,x)=>{p.addEventListener("load",F),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${a}`)))})}))}function n(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return o.then(l=>{for(const i of l||[])i.status==="rejected"&&n(i.reason);return t().catch(n)})};let v=[];function w(e){v=Array.isArray(e)?e:[],localStorage.setItem("user_permissions",JSON.stringify(v))}function X(){if(v.length===0){const e=localStorage.getItem("user_permissions");v=e?JSON.parse(e):[]}return v}function V(e){if(!e)return!0;const t=X();return Array.isArray(e)?e.every(s=>t.includes(s)):t.includes(e)}const Y={mounted(e,t){var r;const{value:s}=t;V(s)||(r=e.parentNode)==null||r.removeChild(e)}},Z={methods:{$hasPermission(e){return V(e)}}},O=J("app1",{state:()=>({count:0,cmenuName:"",logRouterFlag:!1,logClickFlag:!1,loading:!1,error:"",username:"",password:"",crole:"",isAuthenticated:!1,passwordLevel:0,cachedComList:[]}),actions:{increment(){this.count++},toggleLogRouter(){this.logRouterFlag=!this.logRouterFlag},setMenuName(e){this.cmenuName=e},setCrole(e){this.crole=e},setisAuthenticated(e){this.isAuthenticated=e},logOut(){this.crole="",this.password="",this.username="",this.isAuthenticated=!1,localStorage.removeItem("authToken")},login(e,t){e==="admin"?(this.setPassword(3),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),w(["admin","guest"])):e==="guest"?(this.setPassword(1),this.setCrole(e),this.setisAuthenticated(!0),w(["guest"])):this.error="用户名或密码错误"},setPassword(e){this.passwordLevel=e},setError(){this.error="用户名或密码不能为空"},setcachedComList(e){this.cachedComList=e}}}),ee={class:"layout"},te={class:"top-bar"},oe={class:"p-5"},se={key:0,class:"user-info"},re={class:"main-content"},ne={class:"side-menu"},ie={class:"content-area"},ae={__name:"Layout",props:{routeList:{type:Array,default:()=>[]}},setup(e){const s=e.routeList.filter(n=>n.name!=="NotFound"),r=O(),o=()=>{r.logOut(),N.push("/login"),w([])};return(n,l)=>{const i=E("router-link"),y=E("router-view");return c(),d("div",ee,[u("div",te,[u("div",oe,L(g(r).cmenuName),1),g(r).isAuthenticated?(c(),d("div",se,[u("span",null,"welcome, "+L(g(r).crole),1),u("button",{onClick:o,class:"btn"},"退出")])):A("",!0)]),u("div",re,[u("div",ne,[u("ul",null,[(c(!0),d(R,null,$(g(s),(a,m)=>(c(),d("li",{key:m},[b(i,{to:a.path},{default:C(()=>[T(L(a.name),1)]),_:2},1032,["to"])]))),128))])]),u("div",ie,[b(y,null,{default:C(({Component:a})=>[(c(),P(j,{include:g(r).cachedComList},[(c(),P(B(a)))],1032,["include"]))]),_:1})])])])}}},ce=k(ae,[["__scopeId","data-v-ae3b7bdf"]]);function le(e){const t=JSON.parse(localStorage.getItem("userLogs")||"[]");t.push(e),localStorage.setItem("userLogs",JSON.stringify(t))}function ue(e){const t=JSON.parse(localStorage.getItem("evtLogs")||"[]");t.push(e),localStorage.setItem("evtLogs",JSON.stringify(t))}const D=[{path:"/",name:"首页",component:()=>h(()=>import("./Home-hsZdq-T3.js"),__vite__mapDeps([0,1]))},{path:"/login",name:"登录",component:()=>h(()=>import("./LoginPage-C_8RlFwA.js"),__vite__mapDeps([2,1,3]))},{path:"/about",name:"关于",component:()=>h(()=>import("./About-Dw6PqBAy.js"),__vite__mapDeps([4,1]))},{path:"/cryptoPage",name:"数据加密",component:()=>h(()=>import("./CryptoPage-KVR6EA0M.js"),__vite__mapDeps([5,1]))},{path:"/contract",name:"联系我们",component:()=>h(()=>import("./Contract-DpncEpYC.js"),__vite__mapDeps([6,1,7]))},{path:"/calculation",name:"worker计算",component:()=>h(()=>import("./CalculationView-D_72OrTB.js"),__vite__mapDeps([8,1]))},{path:"/webSocketPage",name:"WebSocket连接",component:()=>h(()=>import("./WebSocketPage-QfwokK1f.js"),__vite__mapDeps([9,1,10]))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>h(()=>import("./NotFound-BbRWN8TZ.js"),__vite__mapDeps([11,1]))}],N=q({history:K("/autoDeploy/"),routes:[{path:"/",props:{routeList:D},component:ce,children:D}]});N.afterEach((e,t)=>{const s=O();s.setMenuName(e.name),s.logRouterFlag&&le({from:t.fullPath,to:e.fullPath,routeName:e.name||"unnamed",timestamp:new Date().toISOString()})});const de={mounted(e,t){const s=O(),r=t.arg||"click",o=t.value;e.addEventListener(r,n=>{s.logClickFlag&&ue({timestamp:new Date().toISOString(),element:e.tagName.toLowerCase(),id:e.id||null,class:e.className||null,text:e.textContent.trim().substring(0,50),...typeof o=="object"?o:{value:o}})})}},me={class:"global-list"},pe={key:0,class:"list-header"},he={class:"list-content"},_e={key:1,class:"list-footer"},fe={__name:"GlobalList",props:{items:{type:Array,default:()=>[]}},setup(e){return(t,s)=>(c(),d("div",me,[t.$slots.header?(c(),d("div",pe,[S(t.$slots,"header",{},void 0)])):A("",!0),u("div",he,[(c(!0),d(R,null,$(e.items,(r,o)=>(c(),d("li",{key:o,class:"list-item"},[S(t.$slots,"default",{item:r,index:o},()=>[T(L(r),1)])]))),128))]),t.$slots.footer?(c(),d("div",_e,[S(t.$slots,"footer",{},void 0)])):A("",!0)]))}},ge=k(fe,[["__scopeId","data-v-495763b6"]]),_=M(H);_.use(U());_.component("CommonList",ge);_.directive("track",de);_.directive("permission",Y);_.mixin(Z);_.use(N);_.mount("#app");export{k as _,N as r,O as u};
