const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DNjRtCc8.js","assets/vendor-Dl_ZJaQE.js","assets/LoginPage-BwrEUr1I.js","assets/LoginPage-CaLd4svl.css","assets/About-Mi1O8q-K.js","assets/CryptoPage-B3Yf58Vs.js","assets/Contract-C1zfI7vn.js","assets/CalculationView-CLLgdfnk.js","assets/WebSocketPage-CbZMTSCm.js","assets/WebSocketPage-CvMpOmu9.css","assets/NotFound-DadR9YIX.js"])))=>i.map(i=>d[i]);
import{c as P,r as S,o as p,d as T,a as y,b as m,e as V,t as L,u as f,F,f as x,g as O,w as N,h as J,K as $,i as j,j as B,k as q,l as K,m as M}from"./vendor-Dl_ZJaQE.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const I=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},U={};function W(e,t){const s=S("router-view");return p(),P(s)}const H=I(U,[["render",W]]),z="modulepreload",G=function(e){return"/autoDeploy/"+e},k={},d=function(t,s,n){let o=Promise.resolve();if(s&&s.length>0){let c=function(a){return Promise.all(a.map(l=>Promise.resolve(l).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),v=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=c(s.map(a=>{if(a=G(a),a in k)return;k[a]=!0;const l=a.endsWith(".css"),_=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${_}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":z,l||(u.as="script"),u.crossOrigin="",u.href=a,v&&u.setAttribute("nonce",v),document.head.appendChild(u),l)return new Promise((D,R)=>{u.addEventListener("load",D),u.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&r(i.reason);return t().catch(r)})};let g=[];function E(e){g=Array.isArray(e)?e:[],localStorage.setItem("user_permissions",JSON.stringify(g))}function Q(){if(g.length===0){const e=localStorage.getItem("user_permissions");g=e?JSON.parse(e):[]}return g}function b(e){if(!e)return!0;const t=Q();return Array.isArray(e)?e.every(s=>t.includes(s)):t.includes(e)}const X={mounted(e,t){var n;const{value:s}=t;b(s)||(n=e.parentNode)==null||n.removeChild(e)}},Y={methods:{$hasPermission(e){return b(e)}}},w=T("app1",{state:()=>({count:0,cmenuName:"",logRouterFlag:!1,logClickFlag:!1,loading:!1,error:"",username:"",password:"",crole:"",isAuthenticated:!1,passwordLevel:0,cachedComList:[]}),actions:{increment(){this.count++},toggleLogRouter(){this.logRouterFlag=!this.logRouterFlag},setMenuName(e){this.cmenuName=e},setCrole(e){this.crole=e},setisAuthenticated(e){this.isAuthenticated=e},logOut(){this.crole="",this.password="",this.username="",this.isAuthenticated=!1,localStorage.removeItem("authToken")},login(e,t){e==="admin"?(this.setPassword(3),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),E(["admin","guest"])):e==="guest"?(this.setPassword(1),this.setCrole(e),this.setisAuthenticated(!0),E(["guest"])):this.error="用户名或密码错误"},setPassword(e){this.passwordLevel=e},setError(){this.error="用户名或密码不能为空"},setcachedComList(e){this.cachedComList=e}}}),Z={class:"layout"},ee={class:"top-bar"},te={class:"p-5"},oe={key:0,class:"user-info"},se={class:"main-content"},re={class:"side-menu"},ne={class:"content-area"},ie={__name:"Layout",props:{routeList:{type:Array,default:()=>[]}},setup(e){const s=e.routeList.filter(r=>r.name!=="NotFound"),n=w(),o=()=>{n.logOut(),A.push("/login"),E([])};return(r,c)=>{const i=S("router-link"),v=S("router-view");return p(),y("div",Z,[m("div",ee,[m("div",te,L(f(n).cmenuName),1),f(n).isAuthenticated?(p(),y("div",oe,[m("span",null,"welcome, "+L(f(n).crole),1),m("button",{onClick:o,class:"btn"},"退出")])):V("",!0)]),m("div",se,[m("div",re,[m("ul",null,[(p(!0),y(F,null,x(f(s),(a,l)=>(p(),y("li",{key:l},[O(i,{to:a.path},{default:N(()=>[J(L(a.name),1)]),_:2},1032,["to"])]))),128))])]),m("div",ne,[O(v,null,{default:N(({Component:a})=>[(p(),P($,{include:f(n).cachedComList},[(p(),P(j(a)))],1032,["include"]))]),_:1})])])])}}},ae=I(ie,[["__scopeId","data-v-ae3b7bdf"]]);function ce(e){const t=JSON.parse(localStorage.getItem("userLogs")||"[]");t.push(e),localStorage.setItem("userLogs",JSON.stringify(t))}function le(e){const t=JSON.parse(localStorage.getItem("evtLogs")||"[]");t.push(e),localStorage.setItem("evtLogs",JSON.stringify(t))}const C=[{path:"/",name:"首页",component:()=>d(()=>import("./Home-DNjRtCc8.js"),__vite__mapDeps([0,1]))},{path:"/login",name:"登录",component:()=>d(()=>import("./LoginPage-BwrEUr1I.js"),__vite__mapDeps([2,1,3]))},{path:"/about",name:"关于",component:()=>d(()=>import("./About-Mi1O8q-K.js"),__vite__mapDeps([4,1]))},{path:"/cryptoPage",name:"数据加密",component:()=>d(()=>import("./CryptoPage-B3Yf58Vs.js"),__vite__mapDeps([5,1]))},{path:"/contract",name:"联系我们",component:()=>d(()=>import("./Contract-C1zfI7vn.js"),__vite__mapDeps([6,1]))},{path:"/calculation",name:"worker计算",component:()=>d(()=>import("./CalculationView-CLLgdfnk.js"),__vite__mapDeps([7,1]))},{path:"/webSocketPage",name:"WebSocket连接",component:()=>d(()=>import("./WebSocketPage-CbZMTSCm.js"),__vite__mapDeps([8,1,9]))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>d(()=>import("./NotFound-DadR9YIX.js"),__vite__mapDeps([10,1]))}],A=B({history:q("/autoDeploy/"),routes:[{path:"/",props:{routeList:C},component:ae,children:C}]});A.afterEach((e,t)=>{const s=w();s.setMenuName(e.name),s.logRouterFlag&&ce({from:t.fullPath,to:e.fullPath,routeName:e.name||"unnamed",timestamp:new Date().toISOString()})});const ue={mounted(e,t){const s=w(),n=t.arg||"click",o=t.value;e.addEventListener(n,r=>{s.logClickFlag&&le({timestamp:new Date().toISOString(),element:e.tagName.toLowerCase(),id:e.id||null,class:e.className||null,text:e.textContent.trim().substring(0,50),...typeof o=="object"?o:{value:o}})})}},h=K(H);h.use(M());h.directive("track",ue);h.directive("permission",X);h.mixin(Y);h.use(A);h.mount("#app");export{I as _,A as r,w as u};
